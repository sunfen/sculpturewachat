<!--index.wxml-->
<component-topnav inner-title="记工" is-show-back="true"></component-topnav>  

<page>
  <view class="container">
    <view class="content">
      <import src="../../pages/calendar/index.wxml"/>
      <view class="calendar-wrap">
        <template is="calendar" data="{{...calendar}}" />
      </view>
    </view>

    <!--屏幕背景变暗的背景  -->
    <view class="commodity_screen" bindtap="hideModal" wx:if="{{showModalStatus}}"></view>
    <!--弹出框  -->
    <view animation="{{animationData}}" class="commodity_attr_box" wx:if="{{showModalStatus}}">
      
      <view class="commodity-button">
        <view class="commodity-button-content">
          <button wx:for="{{selectTypes}}" wx:key="property"  wx:for-item="item" wx:for-index="index"     type='{{item.type}}' size='mini' bindtap="onSelectType" data-select-type="{{item.data}}">{{item.name}}</button>
          <icon class="iconfont icon-delete"></icon>
        </view>
      </view>

    
      <picker style='z-index:1000000' bindchange="bindProjectChange" range="{{projects}}" value="{{currentProjectIndex}}" range-key="name">
        <view class="picker">
          当前项目：{{projects[currentProjectIndex].name}}  {{projects[currentProjectIndex].time}}
        </view>
      </picker>

      <input bindinput="inputValue"  placeholder='备注：点击填写今天的备注'></input>
      
      <view wx:if="{{currentSelectType != 'work'}}" class='commodity-hours'>
        <button wx:for="{{hours}}" wx:key="property"  size='mini'   wx:for-item="item" wx:for-index="index" bindtap='onSelectHours' style="background:{{item.color}};" data-hour='{{item.data}}'>
          {{item.data}}
        </button>
      </view>

      <view class="commodity-bottom">
          <view>
            <text bindtap='hideModal'>取消</text>
          </view>
          <view bindtap='save' class="commodity-bottom-sure">
            <text>确定</text>
          </view>
      </view>

    </view>

  </view>

</page>