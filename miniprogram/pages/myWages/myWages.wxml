<!--index.wxml-->
<component-topnav inner-title="我的工资" is-show-back="true" bind:goback="goback"></component-topnav>  

<page>

  <view class="query">
    <picker value="{{date}}" bindchange="getWages" mode="date" start="2010-01-01" end="2022-01-01" fields="year">
        <text>{{date}} </text>
        <icon class="iconfont icon-pull-down"></icon>
    </picker>
    <view class="query-total">
      应结 ￥{{totalExpectTotalWages ? totalExpectTotalWages : 0}}
      已结 ￥{{totalWages ? totalWages : 0}}
    </view>
  </view>

  <view class="table-header">
    <text>名称</text>
    <text>时间</text>
    <text>工资</text>
    <text>已结</text>
  </view>

  <scroll-view  wx:for="{{results}}" wx:key="property" wx:for-item="item" wx:for-index="id"  data-index="{{id}}">
    <view class="table-item-row">
      <view><icon class="iconfont icon-point"></icon> {{item.name}}</view>
      <view class="table-item-time" wx:if="{{item.startTime}}"><text>{{item.startTime}}</text><text>{{item.endTime ? item.endTime : ''}}</text></view>
      <view class="table-item-time" wx:else style='color:red'>未开始</view>
      <view class="table-item-column-noborder">{{item.expectTotalWages}}元</view>
      <view class="table-item-column-noborder">{{item.actualTotalWages}}元</view>        
    </view>
  </scroll-view>

</page>